<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.38">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="stylesheet" href="/css/index.css"><title>业务 (1) | Eren的个人文档 - 记录优于记忆</title><meta name="description" content="这是我的第一个 VuePress 站点">
    <link rel="modulepreload" href="/myBlog-vp/assets/app.fcb85f29.js"><link rel="modulepreload" href="/myBlog-vp/assets/start2.html.3f96e7b9.js"><link rel="modulepreload" href="/myBlog-vp/assets/start2.html.c7d31bc2.js">
    <link rel="stylesheet" href="/myBlog-vp/assets/style.0e2ef2fa.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/myBlog-vp/" class=""><img class="logo" src="https://vuejs.org/images/logo.png" alt="Eren的个人文档 - 记录优于记忆"><span class="site-name can-hide">Eren的个人文档 - 记录优于记忆</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">HTML系列 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/html/start.html" class="sidebar-item" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">CSS系列 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/css/start.html" class="sidebar-item" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/css/text.html" class="sidebar-item" aria-label="text  - font - 选择器"><!--[--><!--]--> text  - font - 选择器 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/css/jicheng.html" class="sidebar-item" aria-label="继承 - 层叠 - 元素类型"><!--[--><!--]--> 继承 - 层叠 - 元素类型 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/css/hezi.html" class="sidebar-item" aria-label="盒子模型"><!--[--><!--]--> 盒子模型 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/css/beijing.html" class="sidebar-item" aria-label="CSS设置背景"><!--[--><!--]--> CSS设置背景 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/css/ewai.html" class="sidebar-item" aria-label="额外知识"><!--[--><!--]--> 额外知识 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/css/fudong.html" class="sidebar-item" aria-label="浮动"><!--[--><!--]--> 浮动 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/css/flex.html" class="sidebar-item" aria-label="flex 布局"><!--[--><!--]--> flex 布局 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/css/ewai2.html" class="sidebar-item" aria-label="额外知识 (2)"><!--[--><!--]--> 额外知识 (2) <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/css/ewai3.html" class="sidebar-item" aria-label="额外知识 (3)"><!--[--><!--]--> 额外知识 (3) <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/css/shipei.html" class="sidebar-item" aria-label="移动端适配"><!--[--><!--]--> 移动端适配 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue3系列 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/vue3/vue3.html" class="sidebar-item" aria-label="Vue2到Vue3的变化"><!--[--><!--]--> Vue2到Vue3的变化 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/life.html" class="sidebar-item" aria-label="生命周期"><!--[--><!--]--> 生命周期 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/communication.html" class="sidebar-item" aria-label="组件通信"><!--[--><!--]--> 组件通信 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/dynamic.html" class="sidebar-item" aria-label="动态组件"><!--[--><!--]--> 动态组件 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/async.html" class="sidebar-item" aria-label="异步组件"><!--[--><!--]--> 异步组件 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/v-model.html" class="sidebar-item" aria-label="v-model"><!--[--><!--]--> v-model <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/start.html" class="sidebar-item" aria-label="Vue 基础"><!--[--><!--]--> Vue 基础 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/options.html" class="sidebar-item" aria-label="Options API"><!--[--><!--]--> Options API <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/mixin.html" class="sidebar-item" aria-label="Mixin 和 extends"><!--[--><!--]--> Mixin 和 extends <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/directives.html" class="sidebar-item" aria-label="自定义指令"><!--[--><!--]--> 自定义指令 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/chajian.html" class="sidebar-item" aria-label="Vue 插件"><!--[--><!--]--> Vue 插件 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/composition.html" class="sidebar-item" aria-label="Composition API"><!--[--><!--]--> Composition API <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/h.html" class="sidebar-item" aria-label="h()函数"><!--[--><!--]--> h()函数 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3/transition.html" class="sidebar-item" aria-label="Transition 过度动画"><!--[--><!--]--> Transition 过度动画 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue Router系列 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/vue-router/router.html" class="sidebar-item" aria-label="路由的原理"><!--[--><!--]--> 路由的原理 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue-router/start.html" class="sidebar-item" aria-label="vue-router的基本使用"><!--[--><!--]--> vue-router的基本使用 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vuex系列 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/vuex/start.html" class="sidebar-item" aria-label="Vuex"><!--[--><!--]--> Vuex <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Pinia系列 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/pinia/start.html" class="sidebar-item" aria-label="Pinia"><!--[--><!--]--> Pinia <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Webpack <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/gongcheng/start.html" class="sidebar-item" aria-label="webpack 入门"><!--[--><!--]--> webpack 入门 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/gongcheng/gaoji.html" class="sidebar-item" aria-label="高级概念"><!--[--><!--]--> 高级概念 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/gongcheng/fuxi.html" class="sidebar-item" aria-label="webpack 复习和总结"><!--[--><!--]--> webpack 复习和总结 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">JS系列 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/JS/xuanranyuanli.html" class="sidebar-item" aria-label="浏览器的渲染原理"><!--[--><!--]--> 浏览器的渲染原理 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/yunxing.html" class="sidebar-item" aria-label="js的运行原理"><!--[--><!--]--> js的运行原理 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/neicun.html" class="sidebar-item" aria-label="JS 的内存管理 , 闭包"><!--[--><!--]--> JS 的内存管理 , 闭包 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/this.html" class="sidebar-item" aria-label="this"><!--[--><!--]--> this <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/hanshu.html" class="sidebar-item" aria-label="函数式编程"><!--[--><!--]--> 函数式编程 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/yuanxing.html" class="sidebar-item" aria-label="面向对象"><!--[--><!--]--> 面向对象 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/jicheng.html" class="sidebar-item" aria-label="面向对象 - 继承"><!--[--><!--]--> 面向对象 - 继承 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/lei.html" class="sidebar-item" aria-label="面向对象 - 类"><!--[--><!--]--> 面向对象 - 类 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/es6.html" class="sidebar-item" aria-label="ES6 (一)"><!--[--><!--]--> ES6 (一) <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/es62.html" class="sidebar-item" aria-label="ES6 (二)"><!--[--><!--]--> ES6 (二) <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/es789.html" class="sidebar-item" aria-label="ES6 +"><!--[--><!--]--> ES6 + <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/ppromise.html" class="sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/diedaiqi.html" class="sidebar-item" aria-label="Iterator - Generator"><!--[--><!--]--> Iterator - Generator <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/asyncawait.html" class="sidebar-item" aria-label="async - await"><!--[--><!--]--> async - await <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/eventloop.html" class="sidebar-item" aria-label="事件循环"><!--[--><!--]--> 事件循环 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/error.html" class="sidebar-item" aria-label="错误处理"><!--[--><!--]--> 错误处理 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/mokuaihua.html" class="sidebar-item" aria-label="模块化"><!--[--><!--]--> 模块化 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/json.html" class="sidebar-item" aria-label="JSON"><!--[--><!--]--> JSON <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/cunchu.html" class="sidebar-item" aria-label="数据存储"><!--[--><!--]--> 数据存储 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/dombom.html" class="sidebar-item" aria-label="BOM"><!--[--><!--]--> BOM <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/dom.html" class="sidebar-item" aria-label="DOM"><!--[--><!--]--> DOM <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/fangdoujieliu.html" class="sidebar-item" aria-label="手写防抖和节流"><!--[--><!--]--> 手写防抖和节流 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/digui.html" class="sidebar-item" aria-label="递归"><!--[--><!--]--> 递归 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/kuayu.html" class="sidebar-item" aria-label="跨域"><!--[--><!--]--> 跨域 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/shenkaobei.html" class="sidebar-item" aria-label="深拷贝 - 事件总线"><!--[--><!--]--> 深拷贝 - 事件总线 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/baoguanli.html" class="sidebar-item" aria-label="包管理工具"><!--[--><!--]--> 包管理工具 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/basic.html" class="sidebar-item" aria-label="基础知识"><!--[--><!--]--> 基础知识 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/array.html" class="sidebar-item" aria-label="数组"><!--[--><!--]--> 数组 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/reg2.html" class="sidebar-item" aria-label="正则表达式"><!--[--><!--]--> 正则表达式 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/JS/http.html" class="sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">TS系列 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/tsv2/start.html" class="sidebar-item" aria-label="基础语法"><!--[--><!--]--> 基础语法 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/tsv2/xijie.html" class="sidebar-item" aria-label="语法细节"><!--[--><!--]--> 语法细节 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/tsv2/hanshu.html" class="sidebar-item" aria-label="函数类型"><!--[--><!--]--> 函数类型 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/tsv2/mianxiangduixiang.html" class="sidebar-item" aria-label="面向对象"><!--[--><!--]--> 面向对象 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">数据结构与算法 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/shujujiegou/start.html" class="sidebar-item" aria-label="栈, 队列, 链表"><!--[--><!--]--> 栈, 队列, 链表 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/shujujiegou/start2.html" class="sidebar-item" aria-label="大O表示法, 哈希表"><!--[--><!--]--> 大O表示法, 哈希表 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/shujujiegou/start3.html" class="sidebar-item" aria-label="树"><!--[--><!--]--> 树 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/shujujiegou/start4.html" class="sidebar-item" aria-label="图结构 (Graph)"><!--[--><!--]--> 图结构 (Graph) <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">微信小程序系列 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/xiaochengxutixi/peizhi1.html" class="sidebar-item" aria-label="小程序的架构和配置"><!--[--><!--]--> 小程序的架构和配置 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/xiaochengxutixi/neizhizujian.html" class="sidebar-item" aria-label="小程序常见的内置组件"><!--[--><!--]--> 小程序常见的内置组件 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/xiaochengxutixi/yufa2.html" class="sidebar-item" aria-label="WXSS-WXML-WXS 语法"><!--[--><!--]--> WXSS-WXML-WXS 语法 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/xiaochengxutixi/shijian.html" class="sidebar-item" aria-label="小程序的事件处理"><!--[--><!--]--> 小程序的事件处理 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/xiaochengxutixi/zujian.html" class="sidebar-item" aria-label="小程序的组件化开发"><!--[--><!--]--> 小程序的组件化开发 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/xiaochengxutixi/api.html" class="sidebar-item" aria-label="小程序系统 API 调用"><!--[--><!--]--> 小程序系统 API 调用 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Git系列 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/ggit/start.html" class="sidebar-item" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">uni-app <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/uni-app/start.html" class="sidebar-item" aria-label="创建项目"><!--[--><!--]--> 创建项目 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/uni-app/yufa.html" class="sidebar-item" aria-label="基础语法"><!--[--><!--]--> 基础语法 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/uni-app/gouwujie.html" class="sidebar-item" aria-label="购物街项目"><!--[--><!--]--> 购物街项目 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">uni-app项目 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/banlu/start.html" class="sidebar-item" aria-label="项目的搭建"><!--[--><!--]--> 项目的搭建 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/banlu/denglu.html" class="sidebar-item" aria-label="微信一键登录"><!--[--><!--]--> 微信一键登录 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/banlu/fenxiang.html" class="sidebar-item" aria-label="微信分享和收藏"><!--[--><!--]--> 微信分享和收藏 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/banlu/daohangshouwei.html" class="sidebar-item" aria-label="导航守卫"><!--[--><!--]--> 导航守卫 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/banlu/fenbao.html" class="sidebar-item" aria-label="分包"><!--[--><!--]--> 分包 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/banlu/guige.html" class="sidebar-item" aria-label="微信支付 + 收货地址"><!--[--><!--]--> 微信支付 + 收货地址 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue3+TS 后台 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/banluhoutai/start.html" class="sidebar-item" aria-label="搭建"><!--[--><!--]--> 搭建 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue3前台项目 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/front/start.html" class="sidebar-item" aria-label="搭建"><!--[--><!--]--> 搭建 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/zujian.html" class="sidebar-item" aria-label="构建自己的组件库 - 实现前端设计"><!--[--><!--]--> 构建自己的组件库 - 实现前端设计 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/header.html" class="sidebar-item" aria-label="通用业务 Header 处理方案"><!--[--><!--]--> 通用业务 Header 处理方案 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/xiangyingshi.html" class="sidebar-item" aria-label="前中台响应式处理方案"><!--[--><!--]--> 前中台响应式处理方案 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/zhuti.html" class="sidebar-item" aria-label="主题替换解决方案"><!--[--><!--]--> 主题替换解决方案 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/changliebiao.html" class="sidebar-item" aria-label="长列表组件 infinite + 图片懒加载(自定义指令)"><!--[--><!--]--> 长列表组件 infinite + 图片懒加载(自定义指令) <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/liandong.html" class="sidebar-item" aria-label="多组件联动与高阶组件解决方案"><!--[--><!--]--> 多组件联动与高阶组件解决方案 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/xiazai.html" class="sidebar-item" aria-label="前台常见功能解决方案：下载+全屏+引导"><!--[--><!--]--> 前台常见功能解决方案：下载+全屏+引导 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/luyou.html" class="sidebar-item" aria-label="高阶路由过渡处理方案 - 浏览器堆栈主动介入"><!--[--><!--]--> 高阶路由过渡处理方案 - 浏览器堆栈主动介入 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/biaodan.html" class="sidebar-item" aria-label="人类行为验证处理方案 - 脱离UI组件库实现登录、注册+表单校验"><!--[--><!--]--> 人类行为验证处理方案 - 脱离UI组件库实现登录、注册+表单校验 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/tupian.html" class="sidebar-item" aria-label="图片裁剪与上传处理方案 - 基于阿里云 OSS 处理用户资料"><!--[--><!--]--> 图片裁剪与上传处理方案 - 基于阿里云 OSS 处理用户资料 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/yidongduan.html" class="sidebar-item" aria-label="移动端路由切换解决方案  - 虚拟任务栈让 H5 丝滑"><!--[--><!--]--> 移动端路由切换解决方案  - 虚拟任务栈让 H5 丝滑 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/front/fankui.html" class="sidebar-item" aria-label="用户反馈解决方案 -- 兔小巢构建反馈功能"><!--[--><!--]--> 用户反馈解决方案 -- 兔小巢构建反馈功能 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Vue3旅途项目 <span class="down arrow"></span></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/hongyuan/start.html" class="sidebar-item" aria-label="搭建"><!--[--><!--]--> 搭建 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hongyuan/service.html" class="sidebar-item" aria-label="网络请求封装"><!--[--><!--]--> 网络请求封装 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="业务 (1)"><!--[--><!--]--> 业务 (1) <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#tabbar-标签栏" class="router-link-active router-link-exact-active sidebar-item" aria-label="tabBar 标签栏"><!--[--><!--]--> tabBar 标签栏 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#navbar-导航栏" class="router-link-active router-link-exact-active sidebar-item" aria-label="navBar 导航栏"><!--[--><!--]--> navBar 导航栏 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#home-search-box-主页搜索器" class="router-link-active router-link-exact-active sidebar-item" aria-label="home-search-box 主页搜索器"><!--[--><!--]--> home-search-box 主页搜索器 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#获取地理位置功能-pc端都是err" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取地理位置功能(PC端都是err)"><!--[--><!--]--> 获取地理位置功能(PC端都是err) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#跳转到城市-和-隐藏tabbar" class="router-link-active router-link-exact-active sidebar-item" aria-label="跳转到城市 和 隐藏tabBar"><!--[--><!--]--> 跳转到城市 和 隐藏tabBar <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#城市页面-search-搜索框" class="router-link-active router-link-exact-active sidebar-item" aria-label="城市页面 - search 搜索框"><!--[--><!--]--> 城市页面 - search 搜索框 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#城市页面-tabs-标签页" class="router-link-active router-link-exact-active sidebar-item" aria-label="城市页面 - tabs 标签页"><!--[--><!--]--> 城市页面 - tabs 标签页 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#城市页面-城市数据的-状态管理-与-标签展示" class="router-link-active router-link-exact-active sidebar-item" aria-label="城市页面 - 城市数据的 &#39;状态管理&#39; 与 标签展示"><!--[--><!--]--> 城市页面 - 城市数据的 &#39;状态管理&#39; 与 标签展示 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#城市页面-动态数据-citygroup-的切换管理" class="router-link-active router-link-exact-active sidebar-item" aria-label="城市页面 - 动态数据 cityGroup 的切换管理"><!--[--><!--]--> 城市页面 - 动态数据 cityGroup 的切换管理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#城市页面-城市页面分组列表数据展示-并优化" class="router-link-active router-link-exact-active sidebar-item" aria-label="城市页面 - 城市页面分组列表数据展示 并优化!!"><!--[--><!--]--> 城市页面 - 城市页面分组列表数据展示 并优化!! <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#城市页面-列表数据添加热门城市标签-索引动态映射" class="router-link-active router-link-exact-active sidebar-item" aria-label="城市页面 - 列表数据添加热门城市标签(索引动态映射)"><!--[--><!--]--> 城市页面 - 列表数据添加热门城市标签(索引动态映射) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#城市页面-点击城市回退并回显效果" class="router-link-active router-link-exact-active sidebar-item" aria-label="城市页面 - 点击城市回退并回显效果"><!--[--><!--]--> 城市页面 - 点击城市回退并回显效果 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#最终代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="最终代码"><!--[--><!--]--> 最终代码 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#选择日期范围" class="router-link-active router-link-exact-active sidebar-item" aria-label="选择日期范围"><!--[--><!--]--> 选择日期范围 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#热门搜索建议-数据请求和展示-pinia" class="router-link-active router-link-exact-active sidebar-item" aria-label="热门搜索建议 - 数据请求和展示 (Pinia)"><!--[--><!--]--> 热门搜索建议 - 数据请求和展示 (Pinia) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#点击搜索按钮-跳转搜索页面-携带参数" class="router-link-active router-link-exact-active sidebar-item" aria-label="点击搜索按钮 -&gt; 跳转搜索页面, 携带参数"><!--[--><!--]--> 点击搜索按钮 -&gt; 跳转搜索页面, 携带参数 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/myBlog-vp/hongyuan/start2.html#分类列表组件-home-categories" class="router-link-active router-link-exact-active sidebar-item" aria-label="分类列表组件 home-categories"><!--[--><!--]--> 分类列表组件 home-categories <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/myBlog-vp/hongyuan/yewu2.html" class="sidebar-item" aria-label="业务 (2)"><!--[--><!--]--> 业务 (2) <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hongyuan/yewu3.html" class="sidebar-item" aria-label="业务 (3)"><!--[--><!--]--> 业务 (3) <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue3后台管理项目 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/vue-admin/dajian.html" class="sidebar-item" aria-label="搭建"><!--[--><!--]--> 搭建 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue-admin/denglu.html" class="sidebar-item" aria-label="登录"><!--[--><!--]--> 登录 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue-admin/layout.html" class="sidebar-item" aria-label="项目架构之搭建 Layout架构 解决方案与实现"><!--[--><!--]--> 项目架构之搭建 Layout架构 解决方案与实现 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue-admin/tongyong.html" class="sidebar-item" aria-label="通用功能开发"><!--[--><!--]--> 通用功能开发 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue-admin/mokuai.html" class="sidebar-item" aria-label="vue3+ElementPlus 基础模块实现"><!--[--><!--]--> vue3+ElementPlus 基础模块实现 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue-admin/yonghu.html" class="sidebar-item" aria-label="excel 、zip 与前端结合解决方案 - 用户管理页面实现"><!--[--><!--]--> excel 、zip 与前端结合解决方案 - 用户管理页面实现 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue-admin/quanxian.html" class="sidebar-item" aria-label="权限受控解决方案"><!--[--><!--]--> 权限受控解决方案 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue-admin/dongtaibiaoge.html" class="sidebar-item" aria-label="动态表格渲染方案 - 文章排名业务实现"><!--[--><!--]--> 动态表格渲染方案 - 文章排名业务实现 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue-admin/fuwenben.html" class="sidebar-item" aria-label="富文本和 markdown 之 创建文章"><!--[--><!--]--> 富文本和 markdown 之 创建文章 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">日常记账项目 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/jizhang/dajian.html" class="sidebar-item" aria-label="搭建"><!--[--><!--]--> 搭建 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/jizhang/zujian.html" class="sidebar-item" aria-label="封装业务组件"><!--[--><!--]--> 封装业务组件 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/jizhang/yewu.html" class="sidebar-item" aria-label="业务功能"><!--[--><!--]--> 业务功能 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">基于Element Plus二次封装组件 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/fengzhuang/dajian.html" class="sidebar-item" aria-label="初级组件 上"><!--[--><!--]--> 初级组件 上 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/fengzhuang/chuxia.html" class="sidebar-item" aria-label="初级组件 - 下"><!--[--><!--]--> 初级组件 - 下 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/fengzhuang/zhongshang.html" class="sidebar-item" aria-label="中级组件"><!--[--><!--]--> 中级组件 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue2 UI <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/vue2ui/layout.html" class="sidebar-item" aria-label="Container 布局容器"><!--[--><!--]--> Container 布局容器 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue2ui/toast.html" class="sidebar-item" aria-label="Toast 轻提示"><!--[--><!--]--> Toast 轻提示 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue2ui/tabs.html" class="sidebar-item" aria-label="Tabs 标签页"><!--[--><!--]--> Tabs 标签页 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue3 UI <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/vue3UI/start.html" class="sidebar-item" aria-label="使用 vite 搭建官网"><!--[--><!--]--> 使用 vite 搭建官网 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3UI/switch.html" class="sidebar-item" aria-label="Switch 开关组件"><!--[--><!--]--> Switch 开关组件 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3UI/dialog.html" class="sidebar-item" aria-label="Dialog 对话框组件"><!--[--><!--]--> Dialog 对话框组件 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3UI/Tabs.html" class="sidebar-item" aria-label="Tabs 标签页组件"><!--[--><!--]--> Tabs 标签页组件 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3UI/Tooltip.html" class="sidebar-item" aria-label="Tooltip 文字提示组件"><!--[--><!--]--> Tooltip 文字提示组件 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/vue3UI/build.html" class="sidebar-item" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">HRSaas项目 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/hrsass/start.html" class="sidebar-item" aria-label="项目搭建"><!--[--><!--]--> 项目搭建 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/login.html" class="sidebar-item" aria-label="登录模块"><!--[--><!--]--> 登录模块 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/zhuye.html" class="sidebar-item" aria-label="主页模块"><!--[--><!--]--> 主页模块 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/luyou.html" class="sidebar-item" aria-label="路由和页面"><!--[--><!--]--> 路由和页面 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/zuzhijiagou.html" class="sidebar-item" aria-label="组织架构"><!--[--><!--]--> 组织架构 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/gongsi.html" class="sidebar-item" aria-label="公司和角色"><!--[--><!--]--> 公司和角色 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/yuangong.html" class="sidebar-item" aria-label="员工管理"><!--[--><!--]--> 员工管理 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/tupian.html" class="sidebar-item" aria-label="图片上传预览及打印"><!--[--><!--]--> 图片上传预览及打印 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/quanxian.html" class="sidebar-item" aria-label="权限"><!--[--><!--]--> 权限 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/shouye.html" class="sidebar-item" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/tab.html" class="sidebar-item" aria-label="多语言tab页全屏主题"><!--[--><!--]--> 多语言tab页全屏主题 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/hrsass/bushu.html" class="sidebar-item" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue3 + TS 后台管理项目 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/cms/code.html" class="sidebar-item" aria-label="项目搭建规范"><!--[--><!--]--> 项目搭建规范 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/cms/axioos.html" class="sidebar-item" aria-label="axios的基本使用"><!--[--><!--]--> axios的基本使用 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/cms/axiosF.html" class="sidebar-item" aria-label="axios 封装"><!--[--><!--]--> axios 封装 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/cms/1.html" class="sidebar-item" aria-label="项目 1"><!--[--><!--]--> 项目 1 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/cms/2.html" class="sidebar-item" aria-label="项目 2"><!--[--><!--]--> 项目 2 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/cms/3.html" class="sidebar-item" aria-label="项目 3"><!--[--><!--]--> 项目 3 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/cms/4.html" class="sidebar-item" aria-label="项目 4"><!--[--><!--]--> 项目 4 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/cms/5.html" class="sidebar-item" aria-label="项目 5"><!--[--><!--]--> 项目 5 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/cms/6.html" class="sidebar-item" aria-label="项目 6"><!--[--><!--]--> 项目 6 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/cms/7.html" class="sidebar-item" aria-label="/cms/7.md"><!--[--><!--]--> /cms/7.md <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">每日头条项目 <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/myBlog-vp/toutiao/chushihua.html" class="sidebar-item" aria-label="项目初始化"><!--[--><!--]--> 项目初始化 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/toutiao/denglu.html" class="sidebar-item" aria-label="登录注册"><!--[--><!--]--> 登录注册 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/toutiao/geren.html" class="sidebar-item" aria-label="个人中心"><!--[--><!--]--> 个人中心 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/toutiao/wenzhang.html" class="sidebar-item" aria-label="首页 - 文章列表"><!--[--><!--]--> 首页 - 文章列表 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/toutiao/pindao.html" class="sidebar-item" aria-label="首页 - 频道编辑"><!--[--><!--]--> 首页 - 频道编辑 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/toutiao/sousuo.html" class="sidebar-item" aria-label="文章搜索"><!--[--><!--]--> 文章搜索 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/toutiao/xiangqing.html" class="sidebar-item" aria-label="文章详情"><!--[--><!--]--> 文章详情 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/toutiao/pinglun.html" class="sidebar-item" aria-label="文章评论"><!--[--><!--]--> 文章评论 <!--[--><!--]--></a><!----></li><li><a href="/myBlog-vp/toutiao/bianji.html" class="sidebar-item" aria-label="编辑资料"><!--[--><!--]--> 编辑资料 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="业务-1" tabindex="-1"><a class="header-anchor" href="#业务-1" aria-hidden="true">#</a> 业务 (1)</h1><h2 id="tabbar-标签栏" tabindex="-1"><a class="header-anchor" href="#tabbar-标签栏" aria-hidden="true">#</a> tabBar 标签栏</h2><p><img src="data:image/png;base64,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" alt="图片"></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabBar-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item,index in tabBarData<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabBar-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemClick(index)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currentIndex === index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAssetUrl(item.imageActive)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">v-else</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAssetUrl(item.image)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabBar-item-text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{active:currentIndex === index}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// tabBar 数据</span>
<span class="token keyword">const</span> tabBarData <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;首页&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">image</span><span class="token operator">:</span> <span class="token string">&#39;tab_home.png&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">imageActive</span><span class="token operator">:</span> <span class="token string">&#39;tab_home_active.png&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">&#39;/home&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;收藏&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">image</span><span class="token operator">:</span> <span class="token string">&#39;tab_favor.png&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">imageActive</span><span class="token operator">:</span> <span class="token string">&#39;tab_favor_active.png&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">&#39;/favor&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;订单&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">image</span><span class="token operator">:</span> <span class="token string">&#39;tab_order.png&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">imageActive</span><span class="token operator">:</span> <span class="token string">&#39;tab_order_active.png&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">&#39;/order&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;消息&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">image</span><span class="token operator">:</span> <span class="token string">&#39;tab_message.png&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">imageActive</span><span class="token operator">:</span> <span class="token string">&#39;tab_message.png&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">&#39;/message&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token comment">// 获取图片的正确路径</span>
<span class="token keyword">function</span> <span class="token function">getAssetUrl</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// new Url()</span>
  <span class="token comment">// 参数一 : 相对路径</span>
  <span class="token comment">// 参数二 : 当前路径 -&gt; 可以使用 i<wbr>mport.meta.url 获取到</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">../../assets/img/tabBar/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>image<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>href
<span class="token punctuation">}</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 当前 导航页index</span>
<span class="token keyword">const</span> currentIndex <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">// 点击 某一个导航栏</span>
<span class="token keyword">const</span> <span class="token function-variable function">itemClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  currentIndex<span class="token punctuation">.</span>value <span class="token operator">=</span> index
  <span class="token comment">// 跳转</span>
  router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.tabBar-container</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span>fixed<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>50px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span>1px solid #e3e0e0<span class="token punctuation">;</span>
  <span class="token selector">.tabBar-item</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
    <span class="token property">flex-grow</span><span class="token punctuation">:</span>1<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
    <span class="token selector">img</span> <span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span>35px<span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token selector">&amp;-text</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span>12px<span class="token punctuation">;</span>
      <span class="token selector">&amp;.active</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span><span class="token function">var</span><span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br></div></div><p>其实上面代码中的 <strong>tabBarData 导航栏数据</strong> 和 <strong>getAssetUrl 工具函数</strong>可以单独抽离出来, 所以这里还是要抽一下</p><p><code>utils/get-asset-url.js</code> 获取图片路径函数</p><p><img src="/myBlog-vp/assets/gau.9268eb42.png" alt="图片"><code>assets/data/tabBar.js</code> tabBar静态数据</p><p><img src="/myBlog-vp/assets/atab1.d290e729.png" alt="图片"></p><p><code>components/tabBar/tabBar.vue</code> 把一些代码抽出去, 变得非常清爽了 <img src="/myBlog-vp/assets/tabb1.186aeb32.png" alt="图片"></p><h2 id="navbar-导航栏" tabindex="-1"><a class="header-anchor" href="#navbar-导航栏" aria-hidden="true">#</a> navBar 导航栏</h2><p>需求:</p><ul><li>文字(左, 中, 有) 要通过 props 传递(<code>left-text</code>, <code>title</code> , <code>right-text</code> )</li><li>icon 图标 通过插槽让用户自定义</li><li>并且点击左则区域 / 右侧区域触发点击事件, 组件监听的事件名为 <code>@click-left</code> 和 <code>@click-right</code></li></ul><p>实现需要注意细节:</p><ul><li>组件实现思路借鉴了Vant UI 的 <a href="https://vant-contrib.gitee.io/vant/#/zh-CN/nav-bar" target="_blank" rel="noopener noreferrer">navBar 组件<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>点击时需要触发事件, 所以需要适当扩大区域面积给用户使用(利用的是一个css小技巧 绝对定位: left,top,bottom:0 沾满整个区域)</li></ul><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eren-navBar-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--左侧区域--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eren-navBar-left<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickLeft<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eren-navBar-left-icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>leftIcon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eren-navBar-left-text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>leftText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{ leftText }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--中间标题--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eren-navBar-title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--右侧区域--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eren-navBar-right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickRight<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eren-navBar-left-text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rightText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{ rightText }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eren-navBar-right-icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rightIcon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>  <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">leftText</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span>String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span>String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rightText</span><span class="token operator">:</span>String
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> emits <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;clickLeft&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;clickRight&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 点击左侧区域</span>
<span class="token keyword">const</span> <span class="token function-variable function">clickLeft</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">emits</span><span class="token punctuation">(</span><span class="token string">&#39;clickLeft&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 点击右侧区域</span>
<span class="token keyword">const</span> <span class="token function-variable function">clickRight</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">emits</span><span class="token punctuation">(</span><span class="token string">&#39;clickRight&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.eren-navBar-content</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span><span class="token function">var</span><span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>46px<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span>1px solid <span class="token function">rgb</span><span class="token punctuation">(</span>228<span class="token punctuation">,</span> 225<span class="token punctuation">,</span> 225<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token selector">.eren-navBar-left</span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
    // 使用 绝对定位 撑满区域<span class="token punctuation">(</span>下面三行<span class="token punctuation">)</span><span class="token punctuation">,</span> 并加上 左右padding 增加区域宽度
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span>0 16px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token selector">&amp;-icon</span> <span class="token punctuation">{</span>
      <span class="token property">margin-right</span><span class="token punctuation">:</span>4px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;-text</span> <span class="token punctuation">{</span>
      
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.eren-navBar-title</span><span class="token punctuation">{</span>
    
  <span class="token punctuation">}</span>
  <span class="token selector">.eren-navBar-right</span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
    // 使用 绝对定位 撑满区域<span class="token punctuation">(</span>下面三行<span class="token punctuation">)</span><span class="token punctuation">,</span> 并加上 左右padding 增加区域宽度
    <span class="token property">right</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span>0 16px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token selector">&amp;-icon</span> <span class="token punctuation">{</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span>4px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;-text</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br></div></div><h2 id="home-search-box-主页搜索器" tabindex="-1"><a class="header-anchor" href="#home-search-box-主页搜索器" aria-hidden="true">#</a> home-search-box 主页搜索器</h2><h3 id="获取地理位置功能-pc端都是err" tabindex="-1"><a class="header-anchor" href="#获取地理位置功能-pc端都是err" aria-hidden="true">#</a> 获取地理位置功能(PC端都是err)</h3><p><img src="data:image/png;base64,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" alt="图片"></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home-search-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>location<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>广州<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>position<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>positionClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的位置<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@/assets/img/home/icon_location.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">function</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//navigator.geolocation.getCurrentPosition这个方法里面有三个参数</span>
            <span class="token comment">//这个会在界面拉出一个消息框，让用户确认是否允许获取位置,不过pc端我试了都是err，</span>
            <span class="token comment">//参1，成功后执行的函数</span>
            <span class="token comment">//参2，失败时执行的函数</span>
            <span class="token comment">//参3，选项配置，下面是在3000毫秒内结束请求</span>
            navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span>
                <span class="token parameter">position</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">var</span> latitude <span class="token operator">=</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>latitude<span class="token punctuation">;</span><span class="token comment">//纬度</span>
                    <span class="token keyword">var</span> longitude <span class="token operator">=</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>longitude<span class="token punctuation">;</span><span class="token comment">//经度</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Latitude : &quot;</span> <span class="token operator">+</span> latitude <span class="token operator">+</span> <span class="token string">&quot; Longitude: &quot;</span> <span class="token operator">+</span> longitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;您的浏览器不支持此项技术&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token literal-property property">timeout</span> <span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 点击获取位置信息</span>
<span class="token keyword">const</span> <span class="token function-variable function">positionClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
...
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="跳转到城市-和-隐藏tabbar" tabindex="-1"><a class="header-anchor" href="#跳转到城市-和-隐藏tabbar" aria-hidden="true">#</a> 跳转到城市 和 隐藏tabBar</h3><p>首先需要 city 页面</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>...
{
  path:&#39;/city&#39;,
  component:()=&gt;import()
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>跳转到选择城市页面<strong>后</strong> ,需要<strong>隐藏</strong>底部的 tabBar 标签栏, 实现这种效果有两种方案:</p><ul><li><strong>方案一 : 利用 meta</strong></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token operator">...</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/city&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/views/city/city.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">hideTabBar</span><span class="token operator">:</span><span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>App.vue <strong>因为 tabBar 是在 App.vue 使用的, 所以 <code>v-if</code> 做一下判断</strong></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tab-bar</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!route.meta.hideTabBar<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> tabBar <span class="token keyword">from</span> <span class="token string">&#39;@/components/tabBar/tabBar.vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// route 是响应式的</span>
<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line"> </div><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li><strong>方案二: 使用 css 配置溢出</strong></li></ul><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    city
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.city</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span>100vh<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span>9<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
    <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br></div><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>并且可以把这些属性<strong>单独抽到公共代码</strong>中, 供给多个需要的组件使用</p><h3 id="城市页面-search-搜索框" tabindex="-1"><a class="header-anchor" href="#城市页面-search-搜索框" aria-hidden="true">#</a> 城市页面 - search 搜索框</h3><p><img src="data:image/png;base64,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" alt="图片"></p><p><a href="https://vant-contrib.gitee.io/vant/#/zh-CN/search" target="_blank" rel="noopener noreferrer">Search 搜索组件<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-search</span>
        <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchValue<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">show-action</span>
        <span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>round<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入搜索关键词<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSearch<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@cancel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onCancel<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// 搜索值</span>
<span class="token keyword">const</span> searchValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 搜索</span>
<span class="token keyword">const</span> <span class="token function-variable function">onSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;搜索&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 点击取消</span>
<span class="token keyword">const</span> <span class="token function-variable function">onCancel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;取消&#39;</span><span class="token punctuation">)</span>
  router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>并且搜索框左侧图标颜色需要自定义, 所以可以在<strong>全局修改</strong>对应的样式变量</p><p>assets/css/common.css</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--primary-color</span><span class="token punctuation">:</span>#ff9854<span class="token punctuation">;</span>
  <span class="token comment">/*搜索框左侧 icon 颜色*/</span>
  <span class="token property">--van-search-left-icon-color</span><span class="token punctuation">:</span><span class="token function">var</span><span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><br></div><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="城市页面-tabs-标签页" tabindex="-1"><a class="header-anchor" href="#城市页面-tabs-标签页" aria-hidden="true">#</a> 城市页面 - tabs 标签页</h3><p><img src="/myBlog-vp/assets/ttt1.fddf3bf6.png" alt="图片"></p><p><a href="https://vant-contrib.gitee.io/vant/#/zh-CN/tab" target="_blank" rel="noopener noreferrer">tab 标签页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>先不填写内容 ..</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    ...
    <span class="token comment">&lt;!--标签页--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tabs</span> <span class="token attr-name"><span class="token namespace">v-model:</span>active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabActive<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff9854<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tab</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>国内·港澳台<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tab</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tab</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>国外<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tab</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tabs</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token comment">// 激活的标签页索引</span>
<span class="token keyword">const</span> tabActive <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="城市页面-城市数据的-状态管理-与-标签展示" tabindex="-1"><a class="header-anchor" href="#城市页面-城市数据的-状态管理-与-标签展示" aria-hidden="true">#</a> 城市页面 - 城市数据的 &#39;状态管理&#39; 与 标签展示</h3><p><strong>在组件内部发送很多网络请求</strong>有<strong>2个缺点</strong>:</p><ol><li>如果网络请求太多, 那么页面组件中就包含大量的对于网络请求和数据的处理逻辑</li><li>如果页面封装了很多的子组件, 子组件需要这些数据, 所以必须一步步将数据传递过去(props), 非常麻烦</li></ol><p><strong>所以关于网络的最终架构设计 -&gt; 就是放到 Pinia !</strong></p><p><img src="/myBlog-vp/assets/pcity1.b75102d9.png" alt="图片"><img src="/myBlog-vp/assets/pcity2.677855d3.png" alt="图片"></p><p>city.vue</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
    ...
    <span class="token comment">&lt;!--标签页--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tabs</span> <span class="token attr-name"><span class="token namespace">v-model:</span>active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabActive<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff9854<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value,key,index in allCities<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tab</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value.title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tab</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tabs</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token operator">...</span>
<span class="token keyword">import</span> useCityStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/modules/city&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span><span class="token punctuation">;</span>
<span class="token operator">...</span>

<span class="token comment">// pinia 城市数据</span>
<span class="token keyword">const</span> cityStore <span class="token operator">=</span> <span class="token function">useCityStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cityStore<span class="token punctuation">.</span><span class="token function">fetchAllCitiesData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 调用action 发起网络请求</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> allCities <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>cityStore<span class="token punctuation">)</span> <span class="token comment">// storeToRefs 解构state数据</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="城市页面-动态数据-citygroup-的切换管理" tabindex="-1"><a class="header-anchor" href="#城市页面-动态数据-citygroup-的切换管理" aria-hidden="true">#</a> 城市页面 - 动态数据 cityGroup 的切换管理</h3><p>这里需要实现一个需求: <strong>上面搜索框 和 标签页 需要在上面固定</strong></p><p>一般有<strong>2种</strong>实现方案:</p><p><img src="/myBlog-vp/assets/dw1.0f01baf3.png" alt="图片"></p><p>city.vue <img src="/myBlog-vp/assets/vt1.e5391f10.png" alt="图片"><img src="/myBlog-vp/assets/vt2.ef59f9bb.png" alt="图片"></p><p>最后 currentGroup 要使用<strong>计算属性</strong>进行处理</p><h3 id="城市页面-城市页面分组列表数据展示-并优化" tabindex="-1"><a class="header-anchor" href="#城市页面-城市页面分组列表数据展示-并优化" aria-hidden="true">#</a> 城市页面 - 城市页面分组列表数据展示 并<code>优化</code>!!</h3><p><img src="/myBlog-vp/assets/indexbar1.44e4d257.png" alt="图片"></p><p><a href="https://vant-contrib.gitee.io/vant/#/zh-CN/index-bar" target="_blank" rel="noopener noreferrer">indexBar 索引栏<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="/myBlog-vp/assets/indexbar3.a42b588d.png" alt="图片"><img src="/myBlog-vp/assets/indexbar2.55b890ba.png" alt="图片"></p><p>在 <code>city.vue</code> 使用该组件并传入城市数据 <img src="/myBlog-vp/assets/indexbar4.7f131a30.png" alt="图片"></p><h4 id="优化" tabindex="-1"><a class="header-anchor" href="#优化" aria-hidden="true">#</a> 优化</h4><p><strong>但是这样子传数据每次 currentGroup 城市数据每次都会重新加载并渲染一遍, 并且标签页的切换有延迟</strong></p><p><strong>所以这里使用使用 2个 组件, 通过 <code>v-show</code> 进行切换, 做一下优化</strong><img src="/myBlog-vp/assets/jiba1.67bba6cf.png" alt="图片"></p><p>目前为止的 city.vue 代码 , 细品</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city-top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--搜索框--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-search</span>
          <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchValue<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">show-action</span>
          <span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>round<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入搜索关键词<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">@search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSearch<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">@cancel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onCancel<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--标签页--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tabs</span> <span class="token attr-name"><span class="token namespace">v-model:</span>active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabActive<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff9854<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value,key,index in allCities<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tab</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value.title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tab</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tabs</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--城市内容--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value,key,index in allCities<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>city-group</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key === tabActive<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:current-group</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">,</span>computed<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useCityStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/modules/city&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> cityGroup <span class="token keyword">from</span> <span class="token string">&#39;./cpns/city-group.vue&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// 搜索值</span>
<span class="token keyword">const</span> searchValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 搜索</span>
<span class="token keyword">const</span> <span class="token function-variable function">onSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;搜索&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 点击取消</span>
<span class="token keyword">const</span> <span class="token function-variable function">onCancel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;取消&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token comment">// 激活的标签页索引 -&gt; 没有配 van-tab的 name 属性的话是索引值, 如果传了 name 就是 name 属性</span>
<span class="token keyword">const</span> tabActive <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// pinia 城市数据</span>
<span class="token keyword">const</span> cityStore <span class="token operator">=</span> <span class="token function">useCityStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cityStore<span class="token punctuation">.</span><span class="token function">fetchAllCitiesData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> allCities <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>cityStore<span class="token punctuation">)</span>

<span class="token comment">// 激活的标签页 城市数据</span>
<span class="token comment">// const currentGroup = computed(()=&gt; allCities.value[tabActive.value])</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.content</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span><span class="token function">calc</span><span class="token punctuation">(</span>100vh - 98px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.city-top</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span>9<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><h3 id="城市页面-列表数据添加热门城市标签-索引动态映射" tabindex="-1"><a class="header-anchor" href="#城市页面-列表数据添加热门城市标签-索引动态映射" aria-hidden="true">#</a> 城市页面 - 列表数据添加热门城市标签(索引动态映射)</h3><p><img src="/myBlog-vp/assets/suoyin1.7d9d3291.png" alt="图片"></p><p>热门标签的索引值在这里设为 <code>#</code></p><p>city-group.vue <img src="/myBlog-vp/assets/suoyin11.4a14d996.png" alt="图片"></p><h3 id="城市页面-点击城市回退并回显效果" tabindex="-1"><a class="header-anchor" href="#城市页面-点击城市回退并回显效果" aria-hidden="true">#</a> 城市页面 - 点击城市回退并回显效果</h3><p>像 <strong>城市</strong> 这类数据用户选择完之后大概率在别的组件或者页面中<strong>经常会被使用</strong></p><p>所以这里就使用 <strong>Pinia</strong> 保存当前用户所选城市</p><p>store/modules/city.js <strong>先在 Pinia 中添加当前城市的默认数据</strong><img src="/myBlog-vp/assets/hxhx1.f628cf72.png" alt="图片"></p><p>city-group.vue <strong>点击城市时在 Pinia 保存数据, 并且回退</strong><img src="/myBlog-vp/assets/hxhx2.17e066eb.png" alt="图片"></p><p><strong>然后在首页中缺数据并回显</strong></p><h3 id="最终代码" tabindex="-1"><a class="header-anchor" href="#最终代码" aria-hidden="true">#</a> 最终代码</h3><p>city-group.vue 最终代码</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-index-bar</span> <span class="token attr-name">:index-list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>indexList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--热门城市--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-index-anchor</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>热门<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-index-anchor</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hotCity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hotCity,index in currentGroup.hotCities<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hotCity-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cityClick(hotCity)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{hotCity.cityName}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(group, index) in currentGroup?.cities<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--城市数据--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-index-anchor</span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group.group<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(city, index) in group.cities<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-cell</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city.cityName<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cityClick(city)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-index-bar</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span>  useCityStore <span class="token keyword">from</span> <span class="token string">&quot;@/store/modules/city&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 城市数据</span>
  <span class="token literal-property property">currentGroup</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
    <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 索引值</span>
<span class="token keyword">const</span> indexList <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> alphabetList <span class="token operator">=</span> props<span class="token punctuation">.</span>currentGroup<span class="token punctuation">.</span>cities<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>group<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">&#39;#&#39;</span><span class="token punctuation">,</span> <span class="token operator">...</span>alphabetList<span class="token punctuation">]</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// pinia 中的 cityStore</span>
<span class="token keyword">const</span> cityStore <span class="token operator">=</span> <span class="token function">useCityStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 点击城市</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">cityClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">city</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  cityStore<span class="token punctuation">.</span>currentCity <span class="token operator">=</span> city
  router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.hotCity</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span>0 10px<span class="token punctuation">;</span>
  <span class="token property">padding-right</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token selector">&amp;-item</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span>78px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span>6px 0<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span>28px<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #fff4ec<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span>16px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><p><strong>city.vue</strong></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city-top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--搜索框--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-search</span>
        <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchValue<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">show-action</span>
        <span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>round<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入搜索关键词<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSearch<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@cancel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onCancel<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--标签页--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tabs</span> <span class="token attr-name"><span class="token namespace">v-model:</span>active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabActive<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff9854<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value,key,index in allCities<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tab</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value.title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tab</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tabs</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--城市内容--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value,key,index in allCities<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>city-group</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key === tabActive<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:current-group</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useCityStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/modules/city&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> cityGroup <span class="token keyword">from</span> <span class="token string">&#39;./cpns/city-group.vue&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// 搜索值</span>
<span class="token keyword">const</span> searchValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 搜索</span>
<span class="token keyword">const</span> <span class="token function-variable function">onSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;搜索&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 点击取消</span>
<span class="token keyword">const</span> <span class="token function-variable function">onCancel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;取消&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token comment">// 激活的标签页索引 -&gt; 没有配 van-tab的 name 属性的话是索引值, 如果传了 name 就是 name 属性</span>
<span class="token keyword">const</span> tabActive <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// pinia 城市数据</span>
<span class="token keyword">const</span> cityStore <span class="token operator">=</span> <span class="token function">useCityStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cityStore<span class="token punctuation">.</span><span class="token function">fetchAllCitiesData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> allCities <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>cityStore<span class="token punctuation">)</span>

<span class="token comment">// 激活的标签页 城市数据</span>
<span class="token comment">// const currentGroup = computed(()=&gt; allCities.value[tabActive.value])</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.content</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span><span class="token function">calc</span><span class="token punctuation">(</span>100vh - 98px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.city-top</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span>9<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><h3 id="选择日期范围" tabindex="-1"><a class="header-anchor" href="#选择日期范围" aria-hidden="true">#</a> 选择日期范围</h3><p><img src="/myBlog-vp/assets/rqrq1.394a6591.png" alt="图片"></p><p><a href="https://vant-contrib.gitee.io/vant/#/zh-CN/calendar" target="_blank" rel="noopener noreferrer">Calendar 日历<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 组件</p><p><strong>utils/format-date.js</strong> <strong>封装日期处理工具函数</strong><img src="/myBlog-vp/assets/rq2.f449e807.png" alt="图片"></p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   ...
  <span class="token comment">&lt;!--选择日期范围--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>section item date-range<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendarVisible = true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tip<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>入住<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{startDate}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stay<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>共 {{diffDays}} 晚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tip<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>离店<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{endDate}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-calendar</span> 
      <span class="token attr-name"><span class="token namespace">v-model:</span>show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>calendarVisible<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name">@confirm</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onConfirm<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff9854<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>range<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name">:round</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token operator">...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formatDate<span class="token punctuation">,</span>getDiffDays <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/format-date&#39;</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token operator">...</span>
<span class="token comment">// 日期范围 </span>
<span class="token keyword">const</span> nowDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> newDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> startDate <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token function">formatDate</span><span class="token punctuation">(</span>nowDate<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> endDate <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token function">formatDate</span><span class="token punctuation">(</span>newDate<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 相差的天数</span>
<span class="token keyword">const</span> diffDays <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token function">getDiffDays</span><span class="token punctuation">(</span>nowDate<span class="token punctuation">,</span> newDate<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 日历显示/隐藏</span>
<span class="token keyword">const</span> calendarVisible <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token comment">// 日历点击了确定</span>
<span class="token keyword">const</span> <span class="token function-variable function">onConfirm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  startDate<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  endDate<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

  calendarVisible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>

  diffDays<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">getDiffDays</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>value<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h3 id="热门搜索建议-数据请求和展示-pinia" tabindex="-1"><a class="header-anchor" href="#热门搜索建议-数据请求和展示-pinia" aria-hidden="true">#</a> 热门搜索建议 - 数据请求和展示 (Pinia)</h3><p><img src="/myBlog-vp/assets/sug1.9ac7fd14.png" alt="图片"></p><p>网络请求的话<strong>不建议</strong>在单独的组件里面去调 , 所以就使用 <strong>Pinia</strong> 做状态管理实现分层结构</p><p><strong>service/modules/home.js 先封装api接口</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> hyRequest <span class="token keyword">from</span> <span class="token string">&#39;@/service/request&#39;</span>

<span class="token comment">// 获取热门搜素建议 </span>
<span class="token keyword">export</span>  <span class="token keyword">function</span> <span class="token function">getHotSuggest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> hyRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&#39;/home/hotSuggests&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>store/modules/home.js Pinia 状态管理: useHomeStore</strong><img src="/myBlog-vp/assets/sug2.96d3f220.png" alt="图片"></p><p>home.vue <strong>然后在首页, 也就是 home.vue , 在进入页面的时候就性需要发起网络请求, 所以调用 action</strong></p><p><img src="/myBlog-vp/assets/sug3.87de4e75.png" alt="图片"></p><p>home-search-box.vue <strong>然后进行模板展示</strong><img src="/myBlog-vp/assets/sug5.327c1f4b.png" alt="图片"></p><h3 id="点击搜索按钮-跳转搜索页面-携带参数" tabindex="-1"><a class="header-anchor" href="#点击搜索按钮-跳转搜索页面-携带参数" aria-hidden="true">#</a> 点击搜索按钮 -&gt; 跳转搜索页面, 携带参数</h3><p>点击搜索按钮后, 要跳转到另一个搜索页面</p><p>想要<strong>跳转页面时,</strong> 如果还<strong>有一些参数要携带的话</strong>, 那么可以在 <strong><code>$route</code> 的 <code>query</code> 属性</strong>上面携带这些参数苏</p><p><img src="/myBlog-vp/assets/sstz1.682b7e9b.png" alt="图片"></p><h2 id="分类列表组件-home-categories" tabindex="-1"><a class="header-anchor" href="#分类列表组件-home-categories" aria-hidden="true">#</a> 分类列表组件 home-categories</h2><p><img src="/myBlog-vp/assets/fl01.91675a45.png" alt="图片"></p><p>具体数据都要发请求得到, 所以<strong>也使用 Pinia</strong></p><p>service/modules/home.js <strong>api接口</strong><img src="/myBlog-vp/assets/fl02.87e5d840.png" alt="图片"></p><p>store/modules/home.js <strong>pinia 封装 action 动作</strong><img src="/myBlog-vp/assets/fl03.4617f6f4.png" alt="图片"></p><p>home.vue <strong>一进首页时, 调用 action 发起网络请求</strong><img src="/myBlog-vp/assets/fl04.43a0e735.png" alt="图片"></p><p><strong>封装成组件</strong></p><ul><li><strong>小技巧: 隐藏滚动条 -&gt; <code>.el::-webkit-scrollbar { width: 0 !important }</code></strong></li></ul><p>home-categories.vue</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home-categories<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in categories<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home-categories-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.pictureUrl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> useHomeStore <span class="token keyword">from</span> <span class="token string">&#39;@/store/modules/home&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> homeStore <span class="token operator">=</span> <span class="token function">useHomeStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> categories <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>homeStore<span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.home-categories</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">overflow-x</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span>16px 4px<span class="token punctuation">;</span>
  <span class="token selector">&amp;::-webkit-scrollbar</span> <span class="token punctuation">{</span> <span class="token property">width</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span> <span class="token punctuation">}</span>
  <span class="token selector">&amp;-item</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span>70px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span> 
    <span class="token property">flex-shrink</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span>4px<span class="token punctuation">;</span>
    <span class="token selector">img</span><span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span>30px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.text</span><span class="token punctuation">{</span>
      <span class="token property">margin-top</span><span class="token punctuation">:</span>6px<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><!--]--></div><footer class="page-meta"><!----><!----><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 932274204@qq.com">jgoriginal</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/myBlog-vp/hongyuan/service.html" class="" aria-label="网络请求封装"><!--[--><!--]--> 网络请求封装 <!--[--><!--]--></a></span><span class="next"><a href="/myBlog-vp/hongyuan/yewu2.html" class="" aria-label="业务 (2)"><!--[--><!--]--> 业务 (2) <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/myBlog-vp/assets/app.fcb85f29.js" defer></script>
  </body>
</html>
