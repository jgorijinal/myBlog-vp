# 项目 2
## Vuex的ts技巧和左侧菜单显示
左侧菜单的话数据已经保存在 Vuex 的login模块里 , 在Vuex的 login 模块中获取 userMenus 数据

但是在 setup()获取 login 模块的state数据的时候 store.state.login.xxxx , ts类型支持有点问题 , 现在解决这个问题

![图片](../.vuepress/public/images/jiaocha1.png) 
![图片](../.vuepress/public/images/useStore88.png)

组件内拿到模块里 userMenus 数据
![图片](../.vuepress/public/images/opop.png) 

然后展示菜单 [el-menu,el-sub-menu,el-menu-item](https://element-plus.gitee.io/zh-CN/component/menu.html#menu-%E5%B1%9E%E6%80%A7)
![图片](../.vuepress/public/images/tttt.png)
![图片](../.vuepress/public/images/tttt2.png)  

## 菜单的折叠与展开切换
el-menu的 collapse 属性

![图片](../.vuepress/public/images/mc1.png)

![图片](../.vuepress/public/images/collapse.png)  
NavHeader组件和 NavMenu组件的共同父组件是 main.vue , 先把对应的NavHeader里面的事件传给 main , main之后改变某一个值 ,再把面里面的某一个值传给 NavMenu

这么做是因为 , main.vue 里面要决定菜单的宽度 , 所以要通过 main.vue 来传

* nav-header.vue
![图片](../.vuepress/public/images/k1.png)  
* main.vue 
![图片](../.vuepress/public/images/k2.png)  
* nav-menu.vue 
![图片](../.vuepress/public/images/k3.png)  
![图片](../.vuepress/public/images/k4.png)  
还有 el-menu 样式上的 bug 问题, 动画的过程中会出现白色的竖线, 所以需要加上el-menu{ border-right :none }

## 权限管理和菜单动态路由 
![图片](../.vuepress/public/images/dongtai1.png)  
![图片](../.vuepress/public/images/dongtai2.png)  

