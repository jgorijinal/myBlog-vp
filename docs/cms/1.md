# 项目 1

## CSS 初始化

```
npm install normalize.css
```

![图片](../.vuepress/public/images/assets.png)

![图片](../.vuepress/public/images/base.png) ![图片](../.vuepress/public/images/indexless.png)

main.ts 导入初始化

![图片](../.vuepress/public/images/maincss.png)

## 账号和手机登录界面搭建

[element-plus](https://element-plus.gitee.io/zh-CN/)

![图片](../.vuepress/public/images/loginx.png)
![图片](../.vuepress/public/images/loginFile.png)

- login-panel.vue 模板

![图片](../.vuepress/public/images/panel.png)
![图片](../.vuepress/public/images/panel2.png)

## 输入框规则的校验

表单校验
[el-form,el-form-item,el-input](https://element-plus.gitee.io/zh-CN/component/form.html#form-%E5%B1%9E%E6%80%A7)

- login-account.vue

![图片](../.vuepress/public/images/vali1.png)
![图片](../.vuepress/public/images/vali2.png)
![图片](../.vuepress/public/images/vali3.png)

但上面 rules 这样的校验规则让整体代码变多 ,所以想单独弄出来

要封装逻辑代码的时候如果用到了 ref / reactive /onMounted 等等可以封装到 hook 文件夹(如下图)里 ,如果是简单的代码逻辑就在 config 文件夹(如下图)中抽取

![图片](../.vuepress/public/images/feng.png)

* account-config.ts
![图片](../.vuepress/public/images/ac.png)
* login-account.vue 需要注意的是 setup()里一定要 return 导入的 rules
![图片](../.vuepress/public/images/ac2.png)

## 记住密码 - 登录逻辑初步实现
![图片](../.vuepress/public/images/loginxxx.png)
* login-panel.vue 
![图片](../.vuepress/public/images/lp1.png)
![图片](../.vuepress/public/images/lp2.png)

* login-account.vue 
![图片](../.vuepress/public/images/la1.png)
![图片](../.vuepress/public/images/la2.png)
## 记住密码 - 本地缓存
需要用到本地缓存相关的操作 , 所以封装关于localStorage的逻辑

* **utils/cache.ts**
![图片](../.vuepress/public/images/utilslocal.png)

* login-panel.vue 
![图片](../.vuepress/public/images/jizhu1.png)

* login-account.vue 
![图片](../.vuepress/public/images/jizhu2.png)
## Vuex中login模块(module)
* 1. 登录的逻辑 (网络请求 , 拿到数据后的处理)
* 2. 数据保存到某一位置 
* 3. 发送其他的请求 ( 请求当前用户的信息 )
* 4. 拿到用户的菜单 
* 5. 跳到首页  

把上面这些逻辑都可以放在 Vuex 中 login 登录模块进行管理

* store的目录结构 
![图片](../.vuepress/public/images/mfile.png)
* VueX里 Module的类型 , 它的泛型没有默认值, 所以Module的泛型要**必须**传
![图片](../.vuepress/public/images/Modulets.png)

ts类型 : 根模块和 login 模块的 state 接口 

![图片](../.vuepress/public/images/rootstate.png)![图片](../.vuepress/public/images/loginstate.png)

* login.ts login模块 
![图片](../.vuepress/public/images/lm.png)

* index.ts  根模块
![图片](../.vuepress/public/images/rm.png)

在组件中调用一下 login模块的 action 方法
![图片](../.vuepress/public/images/da.png)

## 账号登录和手机登录的区分 
el-tabs的v-model属性 , 控制 tabs
![图片](../.vuepress/public/images/qufen1.png)
![图片](../.vuepress/public/images/qufen2.png)
